---
layout: default
title: Gradio API Demo
---

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Musical Instrument Classifier</title>
  <!-- Include @gradio/client library -->
  <script src="https://cdn.jsdelivr.net/npm/@gradio/client"></script>
</head>

<body>
  <h1>Gradio API Demo</h1>

  <!-- Input for Image URL -->
  <label for="imageURL">Enter Image URL:</label>
  <input type="text" id="imageURL" placeholder="Image URL">
  <button onclick="predictImage()">Predict</button>

  <!-- Input for Uploading a Local Photo -->
  <label for="uploadPhoto">Upload a Local Photo:</label>
  <input type="file" id="uploadPhoto" accept="image/*"> <!-- Added 'accept' attribute -->
  <button onclick="predictLocalImage()">Predict</button>

  <!-- Output to display the prediction results -->
  <div id="output"></div>

  <script>
    // Function to make a prediction request using an image URL
    function predictImage() {
      const imageURL = document.getElementById("imageURL").value;

      // Create a Gradio client
      const client = new gr.Client({
        serverName: "https://dannoll-minstclass.hf.space/--replicas/9f6ie/",
      });

      // Make a prediction request
      client.predict({
        api_name: "/predict",
        data: {
          img: imageURL
        },
        callback: function (response) {
          // Handle the prediction result
          displayPrediction(response);
        }
      });
    }

    // Function to make a prediction request using an uploaded local photo
    function predictLocalImage() {
      const fileInput = document.getElementById("uploadPhoto");
      const file = fileInput.files[0];

      if (file) {
        // Create a Gradio client
        const client = new gr.Client({
          serverName: "https://dannoll-minstclass.hf.space/--replicas/9f6ie/",
        });

        // Create a FormData object to send the file
        const formData = new FormData();
        formData.append("img", file);

        // Make a prediction request
        client.predict({
          api_name: "/predict",
          data: formData,
          callback: function (response) {
            // Handle the prediction result
            displayPrediction(response);
          }
        });
      } else {
        alert("Please select a file to upload.");
      }
    }

    // Function to display prediction result
    function displayPrediction(response) {
      const outputDiv = document.getElementById("output");
      outputDiv.innerHTML = `<h2>Prediction:</h2>`;
      outputDiv.innerHTML += `<p>Label: ${response.label}</p>`;
      outputDiv.innerHTML += `<p>Confidence: ${response.confidences[0].confidence}</p>`;
    }
  </script>
</body>

</html>